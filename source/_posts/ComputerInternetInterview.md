---
title: 计算机网络面试相关
date: 2020-04-15 19:33:19
author: Kevin Feng
tags:
- 计算机网络
- 面试
---
本文主要介绍计算机网络的面试相关内容
<!--more-->

## 七层/五层/四层结构
OSI七层 - TCP/IP四层 - 五层协议
- 应用层 - 应用层 - 应用层
- 表示层 - 应用层 - 应用层
- 会话层 - 应用层 - 应用层
- 运输层 - 运输层 - 运输层
- 网络层 - 网际层IP- 网络层
- 数据链路层 - 网络接口层 - 数据链路层
- 物理层 - 网络接口层 - 物理层

### 应用层
- 程序(进程)相关的,有各种各样的协议
  - DNS, HTTP, SMTP之类的协议
- 应用与应用之间的交互
- 数据单元为报文

### 运输层

#### TCP
- 面向连接的可靠数据传输
- 1对1
- 无差错,不丢失,不重复,按顺序到达
- 全双工通信
- 双方设有发送/接受缓存
- 面向字节流

#### UDP
- 无连接,不可靠,尽最大努力传输
- 面向报文
- 网络堵塞不会使发送端数据速度降低
- 支持多对多
- 首部开销小,8字节

### 网络层
- IP地址相关负责的是分组交换网上不同主机的通信,将运输层的报文段封装传送,使用IP协议.
分组简称数据包
- 另一个作用是选择合适的路由能够通过路由器找到主机,构建在多层级数据交换机以及路由器上的层

### 数据链路层
- 将IP数据包组装成帧

### 物理层
- 以线缆的方式传输数据

## 三次握手/四次挥手

### 三次握手
- Client: "喂 您好 您听得见吗?" SYN=1 seq = random
- Server: "我听得见,您听得见吗?" SYN = 1 ACK = 1 ack = random+1 seq = another_random
- Client: "没问题" ACK = 1 ack=another_random+1
- ...
上述描述的就是三次握手,第一次先由客户端发数据包到服务器请求建立连接, 随后服务器确认了这一次的链接然后回传确认连接是正确的.服务器的在第三次握手的时候得到了确认.
为什么需要三次而不是两次的原因是,如果不这样的话服务器不知道这个链接是否正确,有可能这次链接在传输过程中停留了很久,Client已经不想请求了 但是现在发过来了.所以服务器需要确认Client是否要建立连接

### 四次挥手
- Client: "我这边的事情都处理完了,没事的话就挂了吧?" FIN = 1 seq = random
- Server: "嗯我知道了,不过请先等一下我这边还没处理完" ACK = 1 seq = another_random
- Server: "我都搞完了,挂了吧" FIN = 1 ACK = 1 seq = anotheranother_random ack = random+1
- Client: "好" ACK = 1 seq = random+1 ack = anotheranother_random+1
上述描述的就是四次挥手,需要注意的是,客户端想断开连接了服务端不一定想,所以需要至少三次(除了第二次),第二次的原因是为了防止客户端一直发消息表示自己想断开连接, 需要让客户端知道了服务端已经知道客户端要断开连接的请求了.

## 简述HTTP中GET和POST的区别

- 从原理性看：

  - 根据HTTP规范，GET用于信息获取，而且应该是安全和幂等的
  - 根据HTTP规范，POST请求表示可能修改服务器上资源的请求

- 从表面上看：

  - GET请求的数据会附在URL后面，POST的数据放在HTTP包体
  - POST安全性比GET安全性高

## 还有哪些HTTP协议?
- GET对服务器资源的简单请求
- POST：用于发送包含用户提交数据的请求
- ------------以及------------
- HEAD：类似于GET请求，不过返回的响应中没有具体内容，用于获取报头
- PUT：传说中请求文档的一个版本
- DELETE：发出一个删除指定文档的请求
- TRACE：发送一个请求副本，以跟踪其处理进程
- OPTIONS：返回所有可用的方法，检查服务器支持哪些方法
- CONNECT：用于ssl隧道的基于代理的请求

## 浏览器输入网址后会发生什么
1. 查找域名对应的IP地址。这一步会依次查找浏览器缓存，系统缓存，路由器缓存，ISPNDS缓存，根域名服务器
2. 浏览器向IP对应的web服务器发送一个HTTP请求
3. 服务器响应请求，发回网页内容
4. 浏览器解析网页内容

## ARP协议
1. 主机会在自己的ARP缓冲区中简历映射,映射IP->MAC
2. 源主机想发送数据的时候就去查有没有对应IP的MAC,有的话就直接发送数据了,没有的话就去广播所有的本网段的主机发送数据包 包括我自己的IP,自己的MAC以及需要发送数据的IP地址
3. 如果本网段的其他主机收到了ARP,先查数据包的目的IP地址是不是自己的,如果不是就不管了说明想要查的不是我,如果是我,我就把源IP以及源MAC写到ARP列表中,记录下来,之后将自己的MAC地址写到ARP中,告诉源主机自己的IP以及MAC
4. 源主机收到了ARP数据包之后就记录下来,如果一直没收到说明ARP查询失败

## 几类网址
- A类：10.0.0.0 - 10.255.255.255
- B类：172.16.0.0 - 172.31.255.255
- C类：192.168.0.0 - 192.168.255.25